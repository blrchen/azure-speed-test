<div class="region-page">
  <nav class="app-breadcrumb" aria-label="Breadcrumb">
    <ol class="app-breadcrumb__list">
      <li class="app-breadcrumb__item"><a href="/">Home</a></li>
      <li class="app-breadcrumb__item"><a href="/Information/AzureRegions">Azure Regions</a></li>
      <li class="app-breadcrumb__item app-breadcrumb__item--active">
        {{ regionData?.displayName }}
      </li>
    </ol>
  </nav>

  <header class="region-header">
    <div class="region-header__title-group">
      <h1 class="region-header__title">{{ regionData?.displayName }}</h1>
      <div class="region-header__meta">
        <span
          class="status-chip"
          [class.status-chip--restricted]="regionData?.restricted"
          [class.status-chip--available]="!regionData?.restricted"
        >
          {{ regionData?.restricted ? 'Restricted Access' : 'Generally Available' }}
        </span>
        <span class="region-header__code">{{ regionData?.regionId?.toLowerCase() }}</span>
      </div>
      <p class="region-header__description">
        {{ regionDescription }}
      </p>
    </div>
  </header>

  <section class="region-map-card">
    <div id="region-map" class="region-map"></div>
  </section>

  <section class="region-details-card">
    <h2 class="content-heading">Region Details</h2>
    <div class="region-details-table-wrapper">
      <table class="region-details-table">
        <tbody>
          <tr>
            <th scope="row">Long Name</th>
            <td>{{ regionData?.longName || 'Not specified' }}</td>
          </tr>
          <tr>
            <th scope="row">Region Identifier</th>
            <td>{{ regionData?.regionId || regionId }}</td>
          </tr>
          <tr>
            <th scope="row">Geography</th>
            <td>
              {{ regionData?.geography || 'Not specified' }}
              @if (regionData?.geographicGroup) {
                <span class="region-muted">({{ regionData?.geographicGroup }})</span>
              }
            </td>
          </tr>
          <tr>
            <th scope="row">Datacenter Location</th>
            <td>{{ regionData?.datacenterLocation || 'Not available' }}</td>
          </tr>
          <tr>
            <th scope="row">Availability Zones</th>
            <td>{{ availabilityZoneStatus }}</td>
          </tr>
          @if (regionData?.pairedRegion) {
            <tr>
              <th scope="row">Paired Region</th>
              <td>{{ regionData?.pairedRegion }}</td>
            </tr>
          }
          <tr>
            <th scope="row">Launch Year</th>
            <td>{{ regionData?.launchYear ?? 'Not available' }}</td>
          </tr>
          <tr>
            <th scope="row">Coordinates</th>
            <td>
              @if (regionData?.latitude && regionData?.longitude) {
                <a
                  class="region-link"
                  [href]="
                    'https://www.google.com/maps/search/' +
                    (regionData?.latitude ?? '') +
                    ',' +
                    (regionData?.longitude ?? '')
                  "
                  target="_blank"
                  rel="noopener"
                >
                  {{ regionData?.latitude }}, {{ regionData?.longitude }}
                </a>
              } @else {
                <span class="region-muted">Not available</span>
              }
            </td>
          </tr>
          <tr>
            <th scope="row">Access Status</th>
            <td>{{ regionData?.restricted ? 'Restricted access' : 'Generally available' }}</td>
          </tr>
          <tr>
            <th scope="row">Available To</th>
            <td>{{ regionData?.availableTo || 'Available to all customers and partners' }}</td>
          </tr>
          <tr>
            <th scope="row">Data Residency</th>
            <td>{{ regionData?.dataResidency || 'Not specified' }}</td>
          </tr>
          <tr>
            <th scope="row">IP Ranges</th>
            <td>
              <a
                class="region-link"
                href="/Information/AzureIpRanges/AzureCloud.{{ regionId.toLowerCase() }}"
              >
                View IP ranges
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</div>

<style>
  :host {
    display: block;
  }

  .region-page {
    max-width: 960px;
    margin: 0 auto;
    padding: 2.5rem 1.5rem 4rem;
    color: #0f172a;
  }

  .region-header__title-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .region-header__title {
    margin: 0;
    font-size: 2rem;
    font-weight: 600;
  }

  .region-header__meta {
    display: flex;
    align-items: center;
    gap: 0.85rem;
    font-size: 0.95rem;
  }

  .region-header__code {
    color: #2563eb;
    font-weight: 600;
    letter-spacing: 0.04em;
    text-transform: lowercase;
  }

  .region-header__description {
    margin: 1rem 0 0;
    font-size: 1rem;
    line-height: 1.65;
    color: #334155;
  }

  .status-chip {
    display: inline-flex;
    align-items: center;
    padding: 0.35rem 0.75rem;
    border-radius: 999px;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 600;
    background: rgba(34, 197, 94, 0.16);
    color: #15803d;
  }

  .status-chip--restricted {
    background: rgba(250, 204, 21, 0.16);
    color: #92400e;
  }

  .region-map-card {
    margin: 1.75rem 0 2.5rem;
    background: #ffffff;
    border-radius: 18px;
    border: 1px solid rgba(148, 163, 184, 0.18);
    box-shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
    overflow: hidden;
  }

  .region-map {
    width: 100%;
    height: 360px;
  }

  .region-details-card {
    background: #ffffff;
    border-radius: 18px;
    border: 1px solid rgba(148, 163, 184, 0.18);
    box-shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
    padding: 1.85rem 2rem 2.1rem;
  }

  .region-details-card .content-heading {
    margin: 0 0 1.4rem;
    font-size: 1.35rem;
    font-weight: 600;
  }

  .region-details-table-wrapper {
    overflow-x: auto;
  }

  .region-details-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 14px;
    overflow: hidden;
  }

  .region-details-table tr {
    border-bottom: 1px solid rgba(148, 163, 184, 0.18);
  }

  .region-details-table tr:last-child {
    border-bottom: none;
  }

  .region-details-table th {
    width: 240px;
    padding: 0.95rem 1.15rem;
    background: #f8fafc;
    font-size: 0.92rem;
    font-weight: 600;
    color: #0f172a;
  }

  .region-details-table td {
    padding: 0.95rem 1.15rem;
    font-size: 0.97rem;
    font-weight: 500;
    color: #0f172a;
  }

  .region-link {
    color: #2563eb;
    text-decoration: none;
    font-weight: 600;
  }

  .region-link:hover {
    text-decoration: underline;
  }

  .region-muted {
    color: #94a3b8;
    font-size: 0.9rem;
  }

  @media (max-width: 768px) {
    .region-page {
      padding: 2rem 1.1rem 3.5rem;
    }

    .region-header__title {
      font-size: 1.65rem;
    }

    .region-header__description {
      margin-top: 0.85rem;
      font-size: 0.98rem;
      line-height: 1.6;
    }

    .region-map {
      height: 320px;
    }

    .region-details-card {
      padding: 1.6rem 1.4rem;
    }
  }
</style>
