<div>
  <div *ngIf="!totalCheckedRegions" class="alert alert-danger d-flex align-items-center">
    <strong>Please select at least one region to start test.</strong>
  </div>
  <div class="row gx-3">
    <div class="col-12 col-md-4 mt-3" *ngFor="let group of regionGroups">
      <div class="border rounded">
        <div class="d-flex justify-content-between align-items-center bg-light border-bottom p-2">
          <strong>{{ group.geographyGroup }}</strong>
          <div class="form-check form-switch">
            <input
              class="form-check-input"
              type="checkbox"
              [id]="group.geographyGroup"
              [(ngModel)]="group.checked"
              (change)="onChange(null, group)"
            />
            <label class="form-check-label" [for]="group.geographyGroup">Select all</label>
          </div>
        </div>
        <div class="p-2">
          <label
            *ngFor="let region of group?.regions"
            [for]="region.name"
            class="form-check-label align-items-center mb-2"
            [ngClass]="{ 'text-primary': region.checked }"
            style="margin-right: 10px"
          >
            <input
              type="checkbox"
              [id]="region.name"
              [(ngModel)]="region.checked"
              (change)="onChange(region, group)"
              class="form-check-input me-2"
            />
            {{ region.displayName }}
          </label>
        </div>
      </div>
    </div>
  </div>
</div>
